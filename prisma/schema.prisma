// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  // CUID
  id String @id @default(cuid())

  // Required - User Info
  name        String
  email       String @unique
  password    String
  phoneNumber String
  cpf         String

  // Nullable - Store Info
  storeName         String?
  storeCNPJ         String?
  storeSocialReazon String?
  storePhoneNumber  String?
  storeIsActive     Boolean?
  storeRate         Float?
  storeDescription  String?
  storeStatusId     String?

  // Nullable - User Info
  avatar            String?
  postCode          String?
  country           String?
  city              String?
  neighborhood      String?
  address           String?
  addressNumber     Int?
  addressComplement String?
  salt              String?

  // Relationship
  roleId      UserRoles? @relation(fields: [userRolesId], references: [id])
  userRolesId String?

  // Timestamps
  createdAt           DateTime              @default(now())
  updatedAt           DateTime              @default(now())
  UserStoreCategories UserStoreCategories[]
}

model StoreCategory {
  // CUID
  id String @id @default(cuid())

  // Required
  name                String
  UserStoreCategories UserStoreCategories[]
}

model StoreStatus {
  // CUID
  id String @id @default(cuid())

  // Required
  name String
}

model UserRoles {
  // CUID
  id String @id @default(cuid())

  // Required
  name String
  User User[]
}

model UserStoreCategories {
  // CUID
  id String @id @default(cuid())

  userId           User          @relation(fields: [user_Id], references: [id])
  storeCategoryId  StoreCategory @relation(fields: [storeCategory_Id], references: [id])
  user_Id          String
  storeCategory_Id String
}
